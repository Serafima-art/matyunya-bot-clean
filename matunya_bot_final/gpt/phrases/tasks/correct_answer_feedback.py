import random
from typing import Optional

# --- –°–ø–∏—Å–∫–∏ —Ñ—Ä–∞–∑, —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã–µ –ø–æ –Ω–∞–ª–∏—á–∏—é —ç–º–æ–¥–∑–∏ –∏ –≥–µ–Ω–¥–µ—Ä—É ---

# –ì–µ–Ω–¥–µ—Ä–Ω–æ-–Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–µ —Ñ—Ä–∞–∑—ã
NEUTRAL_PHRASES = [
    "–û—Ç–ª–∏—á–Ω–æ! –ò–¥–µ–º –¥–∞–ª—å—à–µ?",
    "–°—É–ø–µ—Ä! –°–ª–µ–¥—É—é—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ –∂–¥–µ—Ç.",
    "–í–µ—Ä–Ω–æ! –ß—Ç–æ –Ω–∞—Å—á–µ—Ç —Å–ª–µ–¥—É—é—â–µ–≥–æ?",
    "–¢–∞–∫ –¥–µ—Ä–∂–∞—Ç—å! –í—ã–±–∏—Ä–∞–π —Å–ª–µ–¥—É—é—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ.",
    "–ü—Ä–∞–≤–∏–ª—å–Ω–æ! –ù–µ —Å–±–∞–≤–ª—è–µ–º —Ç–µ–º–ø.",
    "–ò–¥–µ–∞–ª—å–Ω–æ! –ì–æ—Ç–æ–≤(-–∞) –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É?",
    "–í —Ç–æ—á–∫—É! –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ.",
]

NEUTRAL_PHRASES_EMOJI = [
    "–û—Ç–ª–∏—á–Ω–æ! –ò–¥–µ–º –¥–∞–ª—å—à–µ? üöÄ",
    "–°—É–ø–µ—Ä! –°–ª–µ–¥—É—é—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ –∂–¥–µ—Ç. üí™",
    "–í–µ—Ä–Ω–æ! –ß—Ç–æ –Ω–∞—Å—á–µ—Ç —Å–ª–µ–¥—É—é—â–µ–≥–æ? üòâ",
    "–¢–∞–∫ –¥–µ—Ä–∂–∞—Ç—å! –í—ã–±–∏—Ä–∞–π —Å–ª–µ–¥—É—é—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ. üëá",
    "–ü—Ä–∞–≤–∏–ª—å–Ω–æ! –ù–µ —Å–±–∞–≤–ª—è–µ–º —Ç–µ–º–ø! üî•",
    "–ò–¥–µ–∞–ª—å–Ω–æ! –ì–æ—Ç–æ–≤(-–∞) –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É? ‚ú®",
    "–í —Ç–æ—á–∫—É! –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ. üòé",
    "–ï—Å—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç! ‚úÖ",
    "–ë–ª–µ—Å—Ç—è—â–µ! üí°",
]

# –§—Ä–∞–∑—ã –¥–ª—è –º–∞–ª—å—á–∏–∫–∞
MALE_PHRASES = [
    "{name}, –æ—Ç–ª–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç!",
    "–ö—Ä–∞—Å–∞–≤–∞, {name}! –°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å.",
    "{name}, —Ç—ã –≤ —É–¥–∞—Ä–µ! –ß—Ç–æ –¥–∞–ª—å—à–µ?",
    "–ò–º–µ–Ω–Ω–æ —Ç–∞–∫, {name}! –í–ø–µ—Ä–µ–¥!",
]

# –§—Ä–∞–∑—ã –¥–ª—è –¥–µ–≤–æ—á–∫–∏
FEMALE_PHRASES = [
    "{name}, –æ—Ç–ª–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç!",
    "–£–º–Ω–∏—Ü–∞, {name}! –°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å.",
    "{name}, —Ç—ã –≤ —É–¥–∞—Ä–µ! –ß—Ç–æ –¥–∞–ª—å—à–µ?",
    "–ò–º–µ–Ω–Ω–æ —Ç–∞–∫, {name}! –í–ø–µ—Ä–µ–¥!",
]

def get_random_feedback(name: Optional[str] = None, gender: Optional[str] = None) -> str:
    """
    –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª—É—á–∞–π–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â—É—é —Ñ—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞,
    —É—á–∏—Ç—ã–≤–∞—è –∏–º—è –∏ –ø–æ–ª, –µ—Å–ª–∏ –æ–Ω–∏ –∏–∑–≤–µ—Å—Ç–Ω—ã.
    """
    
    # –°–æ–±–∏—Ä–∞–µ–º –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –≤ –æ–¥–∏–Ω —Å–ø–∏—Å–æ–∫
    all_phrases = NEUTRAL_PHRASES + NEUTRAL_PHRASES_EMOJI
    
    # –î–æ–±–∞–≤–ª—è–µ–º –≥–µ–Ω–¥–µ—Ä–Ω–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Ñ—Ä–∞–∑—ã, –µ—Å–ª–∏ –µ—Å—Ç—å –∏–º—è
    if name:
        if gender == '–¥–µ–≤–æ—á–∫–∞':
            # –ò—Å–ø–æ–ª—å–∑—É–µ–º f-—Å—Ç—Ä–æ–∫—É –¥–ª—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏–º–µ–Ω–∏
            all_phrases.extend([p.format(name=name) for p in FEMALE_PHRASES])
        elif gender == '–º–∞–ª—å—á–∏–∫':
            all_phrases.extend([p.format(name=name) for p in MALE_PHRASES])
        else:
            # –ï—Å–ª–∏ –ø–æ–ª –Ω–µ —É–∫–∞–∑–∞–Ω, –Ω–æ –µ—Å—Ç—å –∏–º—è
            all_phrases.extend([f"{name}, –æ—Ç–ª–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç!", f"–¢–∞–∫ –¥–µ—Ä–∂–∞—Ç—å, {name}!"])

    return random.choice(all_phrases)