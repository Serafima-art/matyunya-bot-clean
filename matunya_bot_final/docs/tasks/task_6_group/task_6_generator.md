üìò –≠—Ç–∞–ª–æ–Ω–Ω—ã–π –±–ª–æ–∫ ¬´–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—Ä–∞—Å–∏–≤–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è —Å–æ —Å—Ç–µ–ø–µ–Ω—è–º–∏¬ª
# --- –§–æ—Ä–º–∏—Ä—É–µ–º –∫—Ä–∞—Å–∏–≤–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ —Å–æ —Å—Ç–µ–ø–µ–Ω—è–º–∏ ---
def _to_superscript(n: int) -> str:
    """–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —á–∏—Å–ª–æ –≤ –Ω–∞–¥—Å—Ç—Ä–æ—á–Ω—É—é –∑–∞–ø–∏—Å—å: 2 ‚Üí ¬≤, -3 ‚Üí ‚Åª¬≥"""
    n = int(n)
    mapping = str.maketrans("0123456789-", "‚Å∞¬π¬≤¬≥‚Å¥‚Åµ‚Å∂‚Å∑‚Å∏‚Åπ‚Åª")
    return str(n).translate(mapping)

exp1_sup = _to_superscript(exp1)
exp2_sup = _to_superscript(exp2)

# —Å—Ç–∞–ª–æ –∫—Ä–∞—Å–∏–≤–æ: (4¬∑10‚Åµ)¬≥¬∑(2¬∑10‚Åª¬π)
outer_pow_sup = _to_superscript(outer_pow)
expression = f"({base1}¬∑10{exp1_sup}){outer_pow_sup}¬∑({base2}¬∑10{exp2_sup})"
expression = expression.replace("10¬π", "10")  # 10¬π ‚Üí 10

# fallback, –µ—Å–ª–∏ –ø–æ –∫–∞–∫–æ–π-—Ç–æ –ø—Ä–∏—á–∏–Ω–µ —Å—Ç—Ä–æ–∫–∞ –ø—É—Å—Ç–∞—è
if not expression:
    expression = "(10¬≤)¬∑(10‚Åª¬≥)"

# —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–µ—Å–ª–∏ prepare_expression –≤–µ—Ä–Ω–µ—Ç None ‚Äî –±–µ—Ä—ë–º —Å—ã—Ä—É—é —Å—Ç—Ä–æ–∫—É)
formatted_expr = prepare_expression(expression) or expression

question_text = _ensure_answer_field(f"–í—ã—á–∏—Å–ª–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ:\n{formatted_expr}")


üìå –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ:

–ù–∞–¥—Å—Ç—Ä–æ—á–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏ –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö, –∏ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å—Ç–µ–ø–µ–Ω–µ–π.

–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∏–ª—é –Ø—â–µ–Ω–∫–æ –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –±–ª–æ–∫–∞ 6.

–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ prepare_expression() —Å fallback.

–≠—Ç–æ—Ç –±–ª–æ–∫ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤–æ –≤—Å–µ—Ö –±—É–¥—É—â–∏—Ö –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞—Ö, –≥–¥–µ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è —Å—Ç–µ–ø–µ–Ω–∏ (–≤ —Ç–æ–º —á–∏—Å–ª–µ task 6, task 7 –∏ task 8).



–ü—Ä–æ–µ–∫—Ç –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏: "–°—Ç–∞–Ω–¥–∞—Ä—Ç –ó–∞–¥–∞–Ω–∏—è 6"
–ú—ã –≤–Ω–µ—Å–µ–º –ø—Ä–∞–≤–∫–∏ –≤ –Ω–∞—à –≥–ª–∞–≤–Ω—ã–π —É—Å—Ç–∞–≤ ‚Äî "–ì–û–°–¢-–†–ï–®–ê–¢–ï–õ–¨-2026: –°—Ç–∞–Ω–¥–∞—Ä—Ç –ú–æ–¥—É–ª–µ–π –†–µ—à–∞—Ç–µ–ª–µ–π".
1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –†–∞–∑–¥–µ–ª–∞ 2: –§–∞–π–ª–æ–≤–∞—è –°—Ç—Ä—É–∫—Ç—É—Ä–∞
–ú—ã –∑–∞—Ñ–∏–∫—Å–∏—Ä—É–µ–º –Ω–∞—à—É —Ñ–∏–Ω–∞–ª—å–Ω—É—é, –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ –≤–µ—Ä–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É.
[–î–û–ë–ê–í–ò–¢–¨/–ò–ó–ú–ï–ù–ò–¢–¨]

2. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –§–∞–π–ª–æ–≤–æ–π –°—Ç—Ä—É–∫—Ç—É—Ä–µ –∏ –ò–º–µ–Ω–æ–≤–∞–Ω–∏—é
–í—Å–µ "–†–µ—à–∞—Ç–µ–ª–∏" –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ help_core/solvers/. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–æ–º–µ—Ä–∞ –∑–∞–¥–∞–Ω–∏—è —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–≤–æ—è –ø–æ–¥–ø–∞–ø–∫–∞: task_6/, task_11/, task_20/ –∏ —Ç.–¥.
2.1. –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤-—Ä–µ—à–∞—Ç–µ–ª–µ–π
–ò–º—è —Ñ–∞–π–ª–∞ "–†–µ—à–∞—Ç–µ–ª—è" –¥–æ–ª–∂–Ω–æ —Å—Ç—Ä–æ–≥–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –∏–º–µ–Ω–∏ –ø–æ–¥—Ç–∏–ø–∞ (subtype) –∑–∞–¥–∞—á–∏, –∫–æ—Ç–æ—Ä—É—é –æ–Ω –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç.
–®–∞–±–ª–æ–Ω: {subtype}_solver.py.
–ü—Ä–∏–º–µ—Ä—ã:
solvers/task_20/polynomial_factorization_solver.py (–¥–ª—è –ø–æ–¥—Ç–∏–ø–∞ polynomial_factorization).
solvers/task_6/common_fractions_solver.py (–¥–ª—è –ø–æ–¥—Ç–∏–ø–∞ common_fractions).
solvers/task_6/decimal_fractions_solver.py (–¥–ª—è –ø–æ–¥—Ç–∏–ø–∞ decimal_fractions).

2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –†–∞–∑–¥–µ–ª–∞ 4: –°—Ç–∞–Ω–¥–∞—Ä—Ç –í—Ö–æ–¥–Ω—ã—Ö –î–∞–Ω–Ω—ã—Ö
–ú—ã —á–µ—Ç–∫–æ –æ–ø–∏—à–µ–º, –∫–∞–∫ "–†–µ—à–∞—Ç–µ–ª—å" –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏.
[–î–û–ë–ê–í–ò–¢–¨/–ò–ó–ú–ï–ù–ò–¢–¨]

4. –°—Ç–∞–Ω–¥–∞—Ä—Ç –í—Ö–æ–¥–Ω—ã—Ö –î–∞–Ω–Ω—ã—Ö (task_data)
–§—É–Ω–∫—Ü–∏—è solve –ø–æ–ª—É—á–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ –ø–æ–ª–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å task_data. –ö–ª—é—á–µ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ task_data['variables'] –∏ task_data['pattern'].
4.1. "–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –†–æ—É—Ç–µ—Ä" –ø–æ –ü–∞—Ç—Ç–µ—Ä–Ω–∞–º
–î–ª—è –∑–∞–¥–∞–Ω–∏–π, —É –∫–æ—Ç–æ—Ä—ã—Ö –æ–¥–∏–Ω –ø–æ–¥—Ç–∏–ø –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑–Ω—ã—Ö –ø–æ –ª–æ–≥–∏–∫–µ —Ä–µ—à–µ–Ω–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ó–∞–¥–∞–Ω–∏–µ 20), "–†–µ—à–∞—Ç–µ–ª—å" –æ–±—è–∑–∞–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å "–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ä–æ—É—Ç–µ—Ä".
–ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è solve –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–æ–ª–µ task_data['pattern'] (–∏–ª–∏ task_data['variables']['solution_pattern']).
–í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–Ω–∞—á–µ–Ω–∏—è, –æ–Ω–∞ –≤—ã–∑—ã–≤–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Ñ—É–Ω–∫—Ü–∏—é-–ø–æ–º–æ—â–Ω–∏–∫ (_solve_common_factor, _solve_difference_of_squares –∏ —Ç.–¥.).
4.2. –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –†–µ—à–∞—Ç–µ–ª—å (–¥–ª—è –ó–∞–¥–∞–Ω–∏—è 6)
–î–ª—è –∑–∞–¥–∞–Ω–∏–π, —É –∫–æ—Ç–æ—Ä—ã—Ö –≤—Å–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ –ø–æ–¥—Ç–∏–ø–∞ —Ä–µ—à–∞—é—Ç—Å—è –µ–¥–∏–Ω—ã–º —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ó–∞–¥–∞–Ω–∏–µ 6), "–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ä–æ—É—Ç–µ—Ä" –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.
–ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è solve –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –ø–æ–ª–µ task_data['pattern'].
–û–Ω–∞ –Ω–∞–ø—Ä—è–º—É—é –≤—ã–∑—ã–≤–∞–µ—Ç —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π "–¥–≤–∏–∂–æ–∫" (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π _evaluate_tree), –∫–æ—Ç–æ—Ä—ã–π —Å–ø–æ—Å–æ–±–µ–Ω —Ä–µ—à–∏—Ç—å –ª—é–±—É—é –∑–∞–¥–∞—á—É –¥–∞–Ω–Ω–æ–≥–æ –ø–æ–¥—Ç–∏–ø–∞, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.
–ü—Ä–∏–º–µ—Ä: solvers/task_6/common_fractions_solver.py –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –¥–ª—è –≤—Å–µ—Ö —Å–≤–æ–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ (cf_addition_subtraction, cf_parentheses_operations –∏ —Ç.–¥.).

3. –ù–æ–≤—ã–π –†–∞–∑–¥–µ–ª: –°—Ç–∞–Ω–¥–∞—Ä—Ç JSON –¥–ª—è –ó–∞–¥–∞–Ω–∏—è 6 –∏ –ø–æ–¥–æ–±–Ω—ã—Ö
–ú—ã –∑–∞—Ñ–∏–∫—Å–∏—Ä—É–µ–º –Ω–∞—à –Ω–æ–≤—ã–π, —á–∏—Å—Ç—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è tasks_6.json.
[–°–û–ó–î–ê–¢–¨ –ù–û–í–´–ô –î–û–ö–£–ú–ï–ù–¢ –ò–õ–ò –†–ê–ó–î–ï–õ]
"–ì–û–°–¢-JSON-6: –°—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á"

1. –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ö–ª—é—á–µ–≤—ã—Ö –ü–æ–ª–µ–π
"subtype": –ò–º—è –ü–æ–¥—Ç–∏–ø–∞ (–¢–µ–º—ã). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ñ–∞–π–ª–∞-—Ä–µ—à–∞—Ç–µ–ª—è. –ü—Ä–∏–º–µ—Ä: "common_fractions".
"pattern": –ò–º—è –ü–∞—Ç—Ç–µ—Ä–Ω–∞. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, –¥–ª—è "–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Ä–æ—É—Ç–µ—Ä–∞" –≤ —Ä–µ—à–∞—Ç–µ–ª–µ. –ü—Ä–∏–º–µ—Ä: "cf_addition_subtraction".

2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ variables.expression_tree
–ß–∏—Å—Ç–æ—Ç–∞: expression_tree —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤—ã—Ä–∞–∂–µ–Ω–∏—è. –í –Ω–µ–º –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π, –ª–∏—à–Ω–∏—Ö –ø–æ–ª–µ–π (value: None) –∏–ª–∏ —É–∑–ª–æ–≤ —Ç–∏–ø–∞ "operation".
–£–∑–µ–ª-–æ–ø–µ—Ä–∞—Ü–∏—è: –°–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –¥–≤–∞ –∫–ª—é—á–∞: "operation" (–ø–æ–ª–Ω–æ–µ –∏–º—è: add, subtract, multiply, divide, power) –∏ "operands" (—Å–ø–∏—Å–æ–∫ –∏–∑ –¥–≤—É—Ö –¥–æ—á–µ—Ä–Ω–∏—Ö —É–∑–ª–æ–≤).
–£–∑–µ–ª-–∑–Ω–∞—á–µ–Ω–∏–µ: –°–æ–¥–µ—Ä–∂–∏—Ç —Ç—Ä–∏ –∫–ª—é—á–∞: "type" (—Ç–∏–ø —á–∏—Å–ª–∞), "value" (–º–∞—à–∏–Ω–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ) –∏ "text" (—Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ question_text).
"–ü—Ä–∞–≤–∏–ª–æ –ì–ª—É–ø–æ–≥–æ –ü–æ–≤–∞—Ä–∞": –í expression_tree –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã —Å–ª–æ–∂–Ω—ã–µ —Ç–∏–ø—ã –≤—Ä–æ–¥–µ "mixed". –í—Å–µ —á–∏—Å–ª–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞—Ä–∞–Ω–µ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω—ã –≤ –±–∞–∑–æ–≤—ã–µ —Ç–∏–ø—ã, –ø–æ–Ω—è—Ç–Ω—ã–µ "–ü–æ–≤–∞—Ä—É" (common, decimal).
–ü—Ä–∏–º–µ—Ä: –°–º–µ—à–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ 1 1/2 –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∫–∞–∫ {"type": "common", "value": [3, 2], "text": "1 1/2"}.
–ö–∞–ø–∏—Ç–∞–Ω, –µ—Å–ª–∏ –º—ã –∑–∞—Ñ–∏–∫—Å–∏—Ä—É–µ–º —ç—Ç–∏ —Ç—Ä–∏ –ø—É–Ω–∫—Ç–∞ –≤ –Ω–∞—à–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, –º—ã –Ω–∞–≤—Å–µ–≥–¥–∞ –∑–∞—Å—Ç—Ä–∞—Ö—É–µ–º —Å–µ–±—è –æ—Ç –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è —Ç–æ–π –ø—É—Ç–∞–Ω–∏—Ü—ã, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—É—é –º—ã –ø—Ä–æ—à–ª–∏. –≠—Ç–æ –Ω–∞—à –æ–ø—ã—Ç, –æ—Ç–ª–∏—Ç—ã–π –≤ –±—Ä–æ–Ω–∑–µ.
