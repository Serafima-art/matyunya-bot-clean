# Документация: Структура данных для "Шин"

Этот документ описывает структуру `.json`-файла ("плота"), который используется для генерации одного полного варианта Заданий 1-5 по теме "Шины".

## 1. Корневые поля

| Ключ | Тип | Описание | Пример |
| :--- | :--- | :--- | :--- |
| `plot_type` | `string` | Внутренний идентификатор версии структуры плота. | `"tires_ogge_2025_v1_FINAL"` |
| `vehicle_id` | `string` | Ключ "персонажа" из `lexemes.json` для склонений. | `"car_crossover"` |
| `base_tire_marking` | `object` | Объект с параметрами заводской (базовой) шины. | `см. ниже` |
| `allowed_tire_sizes`| `object` | Вложенный словарь с разрешенными размерами шин. | `см. ниже` |
| `constants` | `object` | Глобальные константы для расчетов. | `{"inch_to_mm": 25.4}` |
| `task_specific_data`| `object` | Контейнер с уникальными данными для каждого из 5 заданий. | `см. ниже` |

---

## 2. Структура `base_tire_marking`

Описывает одну конкретную маркировку шины.

| Ключ | Тип | Описание | Пример |
| :--- | :--- | :--- | :--- |
| `width` | `integer` | Ширина шины в мм. | `195` |
| `profile` | `integer` | Профиль шины (отношение высоты к ширине). | `60` |
| `construction`| `string` | Тип конструкции. Всегда "R" (радиальная). | `"R"` |
| `diameter` | `integer` | Диаметр диска в дюймах. | `16` |
| `full_marking`| `string` | Полная маркировка для отображения. | `"195/60 R16"` |

---

## 3. Структура `allowed_tire_sizes`

Описывает таблицу разрешенных размеров. Используется для генерации HTML-таблицы и для расчетов в "Решателе" Помощи.

```json
"allowed_tire_sizes": {
    "185": {
        "16": ["185/65"],
        "17": ["185/60"]
    },
    "195": {
        "16": ["195/60"],
        "17": ["195/55"]
    }
}
```
- **Ключ 1-го уровня (e.g., `"185"`):** Ширина шины (string).
- **Ключ 2-го уровня (e.g., `"16"`):** Диаметр диска (string).
- **Значение:** Массив строк, где каждая строка — это `ширина/профиль`.

---

## 4. Структура `task_specific_data`

Содержит 5 объектов, по одному на каждое задание.

### `task_1_data`
| Ключ | Тип | Описание |
| :--- | :--- | :--- |
| `target_diameter` | `integer` | Целевой диаметр диска (для вопросов о ширине). |
| `target_width` | `integer` | Целевая ширина шины (для вопросов о диаметре). |
| `question_type` | `string` | Логический тип вопроса. **Ключевое поле для синхронизации!**<br>Возможные значения: `minimum_width`, `maximum_width`, `minimum_diameter`, `maximum_diameter`. |

### `task_2_data`
| Ключ | Тип | Описание |
| :--- | :--- | :--- |
| `tire_1` | `string` | Первая маркировка шины для сравнения. |
| `tire_2` | `string` | Вторая маркировка шины для сравнения. |
| `comparison_type`| `string` | Тип сравнения (e.g., `radius_difference`). |

### `task_3_data`
| Ключ | Тип | Описание |
| :--- | :--- | :--- |
| `tire_marking` | `string` | Маркировка шины, для которой нужно посчитать диаметр. |
| `calculation_type`| `string` | Тип расчета (e.g., `wheel_diameter`). |

### `task_4_data`
| Ключ | Тип | Описание |
| :--- | :--- | :--- |
| `original_tire` | `string` | Исходная шина (обычно базовая). |
| `replacement_tire`| `string` | Новая шина для замены. |
| `calculation_type`| `string` | Тип расчета (e.g., `diameter_change`). |

### `task_5_data`
| Ключ | Тип | Описание |
| :--- | :--- | :--- |
| `original_tire` | `string` | Исходная шина для сравнения в процентах. |
| `replacement_tire`| `string` | Новая шина для сравнения в процентах. |
| `calculation_type`| `string` | Тип расчета (e.g., `mileage_change_percent`). |

### `task_6_data`
| Ключ | Тип | Описание |
| :--- | :--- | :--- |
| `service_choice_data`| `object` | Объект с данными для задачи про шиномонтаж. |